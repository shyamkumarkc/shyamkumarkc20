
<style>
body{
margin:0;
font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;
background:#f5f7fb;
}

/* SECTION */
.smartHub{
margin:15px auto;
padding:0 14px;
max-width:1900px;
overflow:hidden;
}

.hub-title{
text-align:center;
font-size:30px;
margin-bottom:15px;
font-weight:700;
}

/* GRID DESKTOP */
.hub-grid{
display:grid;
grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
gap:20px;
transition:.4s;
}

/* CARD LINK */
.card-link{
text-decoration:none;
color:inherit;
display:block;
}

/* CARD */
.card{
background:#fff;
border-radius:16px;
padding:18px;
box-shadow:0 6px 18px rgba(0,0,0,.08);
transition:.25s;
position:relative;
cursor:pointer;
min-height:30px;
}

.card:hover{
transform:translateY(-6px);
box-shadow:0 14px 34px rgba(0,0,0,.15);
}

.card h3{
margin:0;
font-size:19px;
line-height:1.3;
transition:.2s;
}

.card:hover h3{
color:#0a66ff;
}

/* BADGES */
.badge{
position:absolute;
top:12px;
right:12px;
font-size:11px;
padding:5px 12px;
border-radius:20px;
color:#fff;
font-weight:600;
}

.trending{background:#ff3b3b}
.new{background:#00b894}
.pick{background:#6c5ce7}
.ai{background:#ff9f43}


/* ---------- MOBILE CAROUSEL ---------- */
@media(max-width:768px){

.hub-grid{
display:flex;
overflow:hidden;
gap:14px;
}

.card-link{
min-width:85%;
flex-shrink:0;
}

.hub-title{
font-size:24px;
}

.card h3{
font-size:18px;
}
}
</style>
</head>
<body>

<section class="smartHub">
<h2 class="hub-title">Also Read</h2>
<div id="hubGrid" class="hub-grid"></div>
</section>


<script>
const DATA_URL="https://shyamkumarkc20.com.np/js/stockmarket.json";

let ALL_ARTICLES=[];
let loaded=0;
const LOAD_COUNT=5;

fetch(DATA_URL)
.then(r=>r.json())
.then(data=>{
ALL_ARTICLES=[...data].sort(()=>Math.random()-0.5);
loadMore();
autoSlide();
});


// LOAD MORE ARTICLES
function loadMore(){

let next=ALL_ARTICLES.slice(loaded,loaded+LOAD_COUNT);
loaded+=LOAD_COUNT;

render(next,true);
}


// RENDER
function render(list,append=false){

let html="";

list.forEach(a=>{

let badge="";
let days=(Date.now()-new Date(a.date))/86400000;

if(a.editor)
badge=`<div class="badge pick">Editor Pick</div>`;
else if(days<7)
badge=`<div class="badge new">New</div>`;
else if(days<30)
badge=`<div class="badge trending">Trending</div>`;
else
badge=`<div class="badge ai">Recommended</div>`;

html+=`
<a href="${a.url}" class="card-link">
<div class="card">
${badge}
<h3>${a.title}</h3>
</div>
</a>
`;
});

if(append)
hubGrid.innerHTML+=html;
else
hubGrid.innerHTML=html;
}


// LAZY LOAD ON SCROLL
window.addEventListener("scroll",()=>{
if(window.innerHeight + window.scrollY >= document.body.offsetHeight-200){
if(loaded<ALL_ARTICLES.length)
loadMore();
}
});


// AUTO SLIDE (MOBILE ONLY)
function autoSlide(){

if(window.innerWidth>768) return;

let container=document.querySelector(".hub-grid");

setInterval(()=>{
container.scrollBy({
left:container.clientWidth*0.9,
behavior:"smooth"
});

if(container.scrollLeft + container.clientWidth >= container.scrollWidth-5){
container.scrollTo({left:0,behavior:"smooth"});
}

},3000);
}


// SWIPE SUPPORT
let startX=0;
let scrollLeft=0;

const slider=document.querySelector(".hub-grid");

slider.addEventListener("touchstart",e=>{
startX=e.touches[0].pageX;
scrollLeft=slider.scrollLeft;
});

slider.addEventListener("touchmove",e=>{
let x=e.touches[0].pageX;
let walk=startX-x;
slider.scrollLeft=scrollLeft+walk;
});
</script>

