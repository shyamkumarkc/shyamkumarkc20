<!DOCTYPE html>
<html lang="en">
<head>
    <title>Nabil Bank Limited</title>
    <link rel="shortcut icon" type="image/jpg" href="/brp.jpg">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
    <script>
        $(function(){
            $('#header').load('/assets/header.html');
            $('#footer').load('/assets/footer.html');
        });
    </script>
</head>
<body>
    <div id="header"></div>
    <h1>Nabil Bank Limited</h1>
    <p>Nabil Bank was formerly known as Nepal Arab Bank Limited, which was established in 1984 as the first private commercial bank in Nepal. It offers a variety of commercial banking services, such as branch banking, treasury, trade, cards, remittance, and investment banking under its subsidiary, Nabil Investment Banking Ltd. With a robust presence of 268 branches, 317 ATMs and substantial correspondent banking relationships.</p>

    <h2>Nabil Bank Details</h2>
    <div id="bankInfo" class="bank-container"></div>

    <h2>List of Companies Merged with Nabil Bank</h2>
    <table border="1">  
        <thead>
            <tr>
                <th>BFI Name</th>
                <th>BFI Name</th>
                <th>BFI Name after Merger</th>
            </tr>
        </thead>
        <tbody id="bankInfos" class="bank-container"></tbody>
    </table>
    
    <h2>Subsidiaries Companies</h2>
    <div id="subInfo" class="bank-container"></div>

    <script>
        async function fetchBankData() {
            try {
                const [bankResponse, mergerResponse] = await Promise.all([
                    fetch('https://shyamkumarkc20.com.np/js/commercialbanks.json'),
                    fetch('https://shyamkumarkc20.com.np/js/merger.json')
                ]);
                
                const banks = await bankResponse.json();
                const mergers = await mergerResponse.json();
                
                const nabilBank = banks.find(bank => bank.Name === "Nabil Bank Limited");
                const mergedBank = mergers.find(bank => bank.Name === "Nabil Bank Limited");

                if (nabilBank) {
                    document.getElementById('bankInfo').innerHTML = `
                        <img src="${nabilBank.IMG}" alt="Nabil Bank Logo" class="bank-logo">
                        <h2>${nabilBank.Name}</h2>
                        <p><strong>Established:</strong> ${nabilBank.ODAD} [ ${nabilBank.ODBS} ]</p>
                        <p><strong>Head Office:</strong> ${nabilBank.HO}</p>
                        <p><strong>NEPSE Code:</strong> ${nabilBank.NEPSE}</p>
                        <p><strong>Swift Code:</strong> ${nabilBank.Swift}</p>
                        <p><strong>Phone:</strong> <a href="tel:${nabilBank.phone1}">${nabilBank.phone1}</a></p>
                        <p><strong>Toll Free:</strong> <a href="tel:${nabilBank.TOLL}">${nabilBank.TOLL}</a></p>
                        <p><strong>Email:</strong> <a href="mailto:${nabilBank.email}">${nabilBank.email}</a></p>
                        <p><strong>Website:</strong> <a href="https://${nabilBank.Website}" target="_blank">${nabilBank.Website}</a></p>
                    `;
                }
                
                if (mergedBank) {
                    document.getElementById('bankInfos').innerHTML = `
                        <tr>
                            <td>${mergedBank.Name}</td>
                            <td>${mergedBank.BFI}</td>
                            <td>${mergedBank.Merger}</td>
                        </tr>
                    `;
                }
                
                const globalIME = banks.find(bank => bank.Name === "Global IME Bank Limited");
                if (globalIME) {
                    document.getElementById('subInfo').innerHTML = `<p>${globalIME.subsidiaries}</p>`;
                }
            } catch (error) {
                console.error('Error fetching bank data:', error);
                document.getElementById('bankInfo').innerHTML = '<p>Error loading bank details.</p>';
                document.getElementById('bankInfos').innerHTML = '<tr><td colspan="3">Error loading merger details.</td></tr>';
                document.getElementById('subInfo').innerHTML = '<p>Error loading subsidiary details.</p>';
            }
        }
        
        fetchBankData();
    </script>

    <div id="footer"></div>
</body>
</html>
