<!DOCTYPE html>
<html>
<head>
  <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
  <script type="text/javascript">
    google.charts.load('current', {'packages':['corechart', 'bar']});
    google.charts.setOnLoadCallback(fetchAndDrawChart);

    // Function to fetch the external JSON and draw the chart
    function fetchAndDrawChart() {
      // Fetch the JSON data from an external file (replace with your actual file path)
      fetch('https://shyamkumarkc20.com.np/js/remittance.json')
        .then(response => response.json())  // Parse the JSON data
        .then(data => {
          // Prepare the data array to be used with Google Charts
          var dataArray = [['Year', 'Remittance']];

          // Loop through the JSON data and add it to the dataArray
          data.forEach(function(item) {
            dataArray.push([item.year, item.remittance]);
          });

          // Create the data table for the chart
          var dataTable = google.visualization.arrayToDataTable(dataArray);

          // Define chart options for a vertical bar chart
          var options = {
            
            chartArea: { width: '88%' },
            hAxis: {
              title: 'Months',
              minValue: 0
            },
            vAxis: {
              title: 'Amount in Billions'
            },
            bars: 'vertical'  // Vertical bar chart style
          };

          // Create and draw the chart
          var chart = new google.visualization.ColumnChart(document.getElementById('curve_chart'));
          chart.draw(dataTable, options);
        })
        .catch(error => {
          console.log('Error fetching the JSON data:', error);
        });
    }
  </script>
</head>
<body>
  <div id="curve_chart" style="width: 950px; height: 500px;"></div>
<style>
table {
    border-collapse: collapse;
    border-spacing: 0;
   
    border: 1px solid #ddd;
}

th, td {
    text-align: left;
    padding: 16px;
}

tr:nth-child(even) {
    background-color: #f2f2f2
}
</style>
<table border="black" >
<thead>
<tr>
<th>Months</th>
<th>Remittance in billions</th>

</tr>
</thead>

      <tbody id="data-output">
         <!-- Prodcuts from javascript file in here. -->
      </tbody>
   </table>
 
   <script>
   fetch("https://shyamkumarkc20.com.np/js/remittance.json")
.then(function(response){
   return response.json();
})
.then(function(products){
   let placeholder = document.querySelector("#data-output");
   let out = "";
   for(let product of products){
      out += `
         <tr>
            
            <td>${product.year}</td>
             <td>${product.remittance}</a></td>
	   
           
            
         </tr>
      `;
   }
 
   placeholder.innerHTML = out;
});

$(function(){
$('#footer').load('/assets/footer.html');
});
</script>

</body>
  <div id ="footer"></div>
</html>
